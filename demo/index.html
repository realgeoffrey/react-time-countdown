<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>demo for react-time-countdown</title>
  </head>
  <body>
    <div id="app"></div>

    <script src="//unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="//unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="//unpkg.com/babel-standalone@6/babel.min.js"></script>

    <script src="//unpkg.com/react-time-countdown"></script>
    <!--<script src="../dist/react-time-countdown.umd.production.min.js"></script>-->

    <script type="text/babel">
      const TimeCountdown = window['react-time-countdown'].default;

      function App() {
        // 倒计时
        const [deadline, setDeadline] = React.useState(10 * 1000 + Date.now());
        return (
          <div>
            <h3>倒计时</h3>
            <TimeCountdown
              deadlineTimestamp={deadline}
              callback={() => {
                console.log('callback');
              }}
              leftMillisecond={1000}
              renderMillisecond={(millisecond) => {
                // 格式化数字格式
                const FORMAT_NUMBER = (number) => {
                  const numberStr = String(number);
                  if (number < 1000) {
                    return '0,' + '0'.repeat(3 - numberStr.length) + numberStr;
                  } else {
                    return numberStr.slice(0, -3) + ',' + numberStr.slice(-3);
                  }
                };

                return FORMAT_NUMBER(millisecond);
              }}
              intervalDelay={1000}
            />
            毫秒
            <hr />
            <div>
              设置结束时间戳：
              <div
                onClick={() => {
                  setDeadline(105 * 1000 + Date.now());
                }}
              >
                105 * 1000
              </div>
              <div
                onClick={() => {
                  setDeadline(15 * 1000 + Date.now());
                }}
              >
                15 * 1000
              </div>
              <div
                onClick={() => {
                  setDeadline(10 * 1000 + Date.now());
                }}
              >
                10
              </div>
              <div
                onClick={() => {
                  setDeadline(5 * 1000 + Date.now());
                }}
              >
                5 * 1000
              </div>
              <div
                onClick={() => {
                  setDeadline(2 * 1000 + Date.now());
                }}
              >
                2 * 1000
              </div>
              <div
                onClick={() => {
                  setDeadline(1 * 1000 + Date.now());
                }}
              >
                1 * 1000
              </div>
              <div
                onClick={() => {
                  setDeadline(0 * 1000 + Date.now());
                }}
              >
                0
              </div>
              <div
                onClick={() => {
                  setDeadline(0);
                }}
              >
                -0
              </div>
            </div>
          </div>
        );
      }

      ReactDOM.render(<App />, document.getElementById('app'));
    </script>
  </body>
</html>
